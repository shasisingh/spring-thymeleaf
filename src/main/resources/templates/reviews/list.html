<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{layout :: layout(~{::content})}">
<section th:fragment="content">
    <div class="card">
        <h2>Guest Reviews</h2>
        <div class="actions" style="margin-bottom:.75rem">
            <a class="btn" th:href="@{/api/v1/reviews/create}">Write a Review</a>
            <a class="btn" th:href="@{/api/v1}" style="background:#6c757d">Back to Home</a>
        </div>
        <div class="review-tiles">
            <div class="review-tile" th:each="review : ${reviews}">
                <div class="review-text" th:text="'“' + ${review.text} + '”'"></div>
                <div class="review-author" th:text="'— ' + ${review.author}"></div>
                <div class="rating-stars readonly" th:if="${review.rating != null}" th:with="r=${review.rating}">
                    <span th:each="i : ${#numbers.sequence(1,5)}"
                          th:classappend="${i <= r} ? 'filled' : 'empty'"
                          th:text="${i <= r} ? '★' : '☆'">★</span>
                </div>
                <div class="review-date" th:text="${#temporals.format(review.created, 'dd-MM-yyyy HH:mm')}"></div>
            </div>
        </div>
        <div th:if="${reviews == null || #lists.isEmpty(reviews)}" class="muted">No reviews yet.</div>
    </div>
</section>
</html>
